{
  "info": {
    "_postman_id": "eb28d77b-edbd-40ae-893c-f86f4426a3b0",
    "name": "kreativ_hobbi",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "52362804"
  },
  "item": [
    {
      "name": "Blog",
      "item": [
        {
          "name": "Posztok",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Returns an array\", () => {\r",
                  "    const res = pm.response.json();\r",
                  "    pm.expect(res).to.be.an('array');\r",
                  "});\r",
                  "pm.test(\"Posts have expected fields\", () => {\r",
                  "    const res = pm.response.json();\r",
                  "    if (res.length > 0) {\r",
                  "        pm.expect(res[0]).to.have.property('id');\r",
                  "        pm.expect(res[0]).to.have.property('cim');\r",
                  "    }\r",
                  "});\r",
                  "\r",
                  "// Későbbi tesztekhez id\r",
                  "const res = pm.response.json();\r",
                  "if (res.length > 0) {\r",
                  "    pm.environment.set(\"blog_post_id\", res[0].id);\r",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/blog",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "blog"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Egy poszt",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/blog/{{blog_post_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "blog",
                "{{blog_post_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Posztok main",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Returns data\", () => {\r",
                  "    const res = pm.response.json();\r",
                  "    pm.expect(res).to.not.be.empty;\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/blog/main",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "blog",
                "main"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Kommentek",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Returns an array\", () => {\r",
                  "    pm.expect(pm.response.json()).to.be.an('array');\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/blog/{{blog_post_id}}/comments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "blog",
                "{{blog_post_id}}",
                "comments"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Komment hozzáadás",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Comment created\", () => pm.response.to.have.status(201));\r",
                  "pm.test(\"Has comment content\", () => {\r",
                  "    const res = pm.response.json();\r",
                  "    const comment = res.comment || res;\r",
                  "    pm.expect(comment).to.have.property('id');\r",
                  "});\r",
                  "\r",
                  "const res = pm.response.json();\r",
                  "const comment = res.comment || res;\r",
                  "pm.environment.set(\"comment_id\", comment.id);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"komment\": \"Ez egy teszt komment.\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/blog/{{blog_post_id}}/comments",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "blog",
                "{{blog_post_id}}",
                "comments"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Komment törlés",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Comment deleted\", () => {\r",
                  "    pm.expect(pm.response.code).to.be.oneOf([200, 204]);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/comments/{{comment_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "comments",
                "{{comment_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Poszt módosító adatok",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Post data returned\", () => {\r",
                  "    pm.expect(pm.response.json()).to.have.property(\"id\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/posts/{{my_post_id}}/edit",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "posts",
                "{{my_post_id}}",
                "edit"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Poszt hozzáadása",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 201\", () => pm.response.to.have.status(201));\r",
                  "\r",
                  "pm.test(\"Post created with id\", () => {\r",
                  "    pm.expect(pm.response.json().post).to.have.property(\"id\");\r",
                  "});\r",
                  "\r",
                  "const json = pm.response.json();\r",
                  "if (json.post && json.post.id) {\r",
                  "    pm.environment.set(\"my_post_id\", json.post.id);\r",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\": \"My Test Post\",\r\n  \"content\": \"This is the body of my test post.\",\r\n  \"status\": \"közzétett\",\r\n  \"cimke_ids\": [1],\r\n  \"fo_kep_id\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/posts",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "posts"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Poszt módosítás",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Title was updated\", () => {\r",
                  "    const res = pm.response.json();\r",
                  "    const post = res.post || res;\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"title\": \"Updated Post Title\",\r\n  \"content\": \" U This is the body of my test post.\",\r\n  \"status\": \"közzétett\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/posts/{{my_post_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "posts",
                "{{my_post_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Kép hozzáadás",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 201\", () => pm.response.to.have.status(201));\r",
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "images[]",
                  "type": "file",
                  "uuid": "9becc218-d27c-40f8-804b-d223af91d198",
                  "src": "/C:/Users/User/Downloads/orange-irregular-organic-lines-seamless-pattern_1409-4190.avif"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/upload-images",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "upload-images"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Termékek",
      "item": [
        {
          "name": "Termékek",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Response is an array\", () => {\r",
                  "    pm.expect(pm.response.json()).to.be.an(\"array\");\r",
                  "});\r",
                  "pm.test(\"Product has expected fields\", () => {\r",
                  "    const products = pm.response.json();\r",
                  "    if (products.length > 0) {\r",
                  "        pm.expect(products[0]).to.have.property(\"id\");\r",
                  "        pm.expect(products[0]).to.have.property(\"nev\");\r",
                  "        pm.expect(products[0]).to.have.property(\"ar\");\r",
                  "    }\r",
                  "});\r",
                  "const products = pm.response.json();\r",
                  "if (products.length > 0) {\r",
                  "    pm.environment.set(\"termek_id\", products[0].id);\r",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/termekek",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "termekek"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Termék id",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Product has expected fields\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"id\");\r",
                  "    pm.expect(json).to.have.property(\"nev\");\r",
                  "    pm.expect(json).to.have.property(\"ar\");\r",
                  "    pm.expect(json).to.have.property(\"darab\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/termekek/{{termek_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "termekek",
                "{{termek_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Kategóriák",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Response is an array\", () => {\r",
                  "    pm.expect(pm.response.json()).to.be.an(\"array\");\r",
                  "});\r",
                  "pm.test(\"Category has expected fields\", () => {\r",
                  "    const cats = pm.response.json();\r",
                  "    if (cats.length > 0) {\r",
                  "        pm.expect(cats[0]).to.have.property(\"id\");\r",
                  "        pm.expect(cats[0]).to.have.property(\"nev\");\r",
                  "    }\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/termekek/kategoriak",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "termekek",
                "kategoriak"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Címkék",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Response is an array\", () => {\r",
                  "    pm.expect(pm.response.json()).to.be.an(\"array\");\r",
                  "});\r",
                  "pm.test(\"Tag has id and nev\", () => {\r",
                  "    const tags = pm.response.json();\r",
                  "    if (tags.length > 0) {\r",
                  "        pm.expect(tags[0]).to.have.all.keys(\"id\", \"nev\");\r",
                  "    }\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cimkek",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cimkek"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Rendelés (vendég)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 201\", () => pm.response.to.have.status(201));\r",
                  "pm.test(\"Order created with rendeles_id\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"rendeles_id\");\r",
                  "    pm.environment.set(\"rendeles_id\", json.rendeles_id);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"termekek\": [\r\n    {\r\n      \"termek_id\": 1,\r\n      \"mennyiseg\": 2,\r\n      \"szin_id\": null\r\n    }\r\n  ]\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/rendeles",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "rendeles"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Rendelés (felhasználó)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 201\", () => pm.response.to.have.status(201));\r",
                  "pm.test(\"Order created with rendeles_id\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"rendeles_id\");\r",
                  "    pm.environment.set(\"rendeles_id\", json.rendeles_id);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"felhasznalo_id\": 1,\r\n  \"termekek\": [\r\n    {\r\n      \"termek_id\": 1,\r\n      \"mennyiseg\": 1,\r\n      \"szin_id\": 2\r\n    },\r\n    {\r\n      \"termek_id\": 3,\r\n      \"mennyiseg\": 3,\r\n      \"szin_id\": null\r\n    }\r\n  ]\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/rendeles",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "rendeles"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Kosárhoz adás",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Response has product and total\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"termek\");\r",
                  "    pm.expect(json).to.have.property(\"osszeg\");\r",
                  "    pm.expect(json).to.have.property(\"mennyiseg\");\r",
                  "});\r",
                  "pm.test(\"Total price is correct\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json.osszeg).to.equal(json.termek.ar * json.mennyiseg);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"termek_id\": 1,\r\n  \"mennyiseg\": 2,\r\n  \"user_id\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/kosar/hozzaad",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "kosar",
                "hozzaad"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Belépés/Regisztráció",
      "item": [
        {
          "name": "Regisztráció",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"No validation errors\", () => {\r",
                  "    pm.expect(pm.response.json()).to.not.have.property(\"errors\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Referer",
                "value": "http://localhost:8000",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-XSRF-TOKEN",
                "value": "{{xsrf_token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"felhasz_nev\": \"Testasaaa\",\r\n  \"email\": \"testsaaaa@example.com\",\r\n  \"password\": \"Password123.\",\r\n  \"password_confirmation\": \"Password123.\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8000/register",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "register"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Belépés",
          "event": [
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  "const xsrfToken = pm.cookies.get('XSRF-TOKEN');\r",
                  "pm.request.headers.add({\r",
                  "    key: 'X-XSRF-TOKEN',\r",
                  "    value: decodeURIComponent(xsrfToken)\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Returns an array\", () => {\r",
                  "const res = pm.response.json();\r",
                  "if (res.token) {\r",
                  "    pm.environment.set(\"token\", res.token);\r",
                  "    console.log(\"Token saved: \" + res.token);\r",
                  "}\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Referer",
                "value": "http://localhost:8000",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n    \"email\": \"test@example.com\",\r\n    \"password\": \"Alma12345678.\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Elfelejtett jelszó",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "exec": [
                  ""
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "X-XSRF-TOKEN",
                "value": "{{xsrf_token}}",
                "description": "text",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"email\": \"test@example.com\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8000/forgot-password",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "forgot-password"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Kilépés",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.environment.unset(\"token\");"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Referer",
                "value": "http://localhost:8000",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/logout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "logout"
              ]
            }
          },
          "response": []
        },
        {
          "name": "CSRF token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"CSRF cookie received\", () => {\r",
                  "    const token = pm.cookies.get('XSRF-TOKEN');\r",
                  "    pm.expect(token).to.not.be.undefined;\r",
                  "    pm.environment.set('xsrf_token', decodeURIComponent(token));\r",
                  "    console.log('xsrf_token saved:', decodeURIComponent(token))\r",
                  "})"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Referer",
                "value": "http://localhost:8000",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              },
              {
                "key": "Accept",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "http://localhost:8000/sanctum/csrf-cookie",
              "protocol": "http",
              "host": [
                "localhost"
              ],
              "port": "8000",
              "path": [
                "sanctum",
                "csrf-cookie"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Felhasználó",
      "item": [
        {
          "name": "Felhasználó belépett-e",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"loggedIn is true\", () => {\r",
                  "    pm.expect(pm.response.json().loggedIn).to.be.true;\r",
                  "});\r",
                  "pm.test(\"szerepkor is present\", () => {\r",
                  "    pm.expect(pm.response.json()).to.have.property(\"szerepkor\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/user/check",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user",
                "check"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Felhasználó",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"User has required fields\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"id\");\r",
                  "    pm.expect(json).to.have.property(\"email\");\r",
                  "});\r",
                  "pm.environment.set(\"user_id\", pm.response.json().id);"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/user",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Felhasználó posztjai",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Response is an array\", () => {\r",
                  "    pm.expect(pm.response.json()).to.be.an(\"array\");\r",
                  "});\r",
                  "pm.test(\"Posts have expected fields\", () => {\r",
                  "    const posts = pm.response.json();\r",
                  "    if (posts.length > 0) {\r",
                  "        pm.expect(posts[0]).to.have.property(\"id\");\r",
                  "        pm.expect(posts[0]).to.have.property(\"cim\");\r",
                  "        pm.expect(posts[0]).to.have.property(\"fo_kep\");\r",
                  "    }\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/user/posts",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user",
                "posts"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Felhasználó profil módosítás",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"vezeteknev\": \"Updated\",\r\n  \"keresztnev\": \"name\",\r\n  \"email\": \"updated@example.com\",\r\n  \"telefonszam\": \"+36301234567\",\r\n  \"varos_id\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/user/profile",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user",
                "profile"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Felhasználó kép módosítás",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"profile_picture_id\": 1\r\n}"
            },
            "url": {
              "raw": "{{base_url}}/user/profile-picture",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "user",
                "profile-picture"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Városok",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Response is an array\", () => {\r",
                  "    pm.expect(pm.response.json()).to.be.an(\"array\");\r",
                  "});\r",
                  "pm.test(\"City has expected fields\", () => {\r",
                  "    const cities = pm.response.json();\r",
                  "    if (cities.length > 0) {\r",
                  "        pm.expect(cities[0]).to.have.all.keys(\"id\", \"varos_nev\", \"iranyitoszam\");\r",
                  "    }\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/cities",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "cities"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Statisztika",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"All stat fields are present\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"totalSales\");\r",
                  "    pm.expect(json).to.have.property(\"totalOrders\");\r",
                  "    pm.expect(json).to.have.property(\"totalProducts\");\r",
                  "    pm.expect(json).to.have.property(\"totalCustomers\");\r",
                  "});\r",
                  "pm.test(\"Stats are numbers\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(parseFloat(json.totalSales)).to.be.a(\"number\");\r",
                  "    pm.expect(parseFloat(json.totalOrders)).to.be.a(\"number\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/stats",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "stats"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Analitika",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Analytics fields present\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"monthlySales\");\r",
                  "    pm.expect(json).to.have.property(\"monthlyOrders\");\r",
                  "    pm.expect(json).to.have.property(\"categories\");\r",
                  "});\r",
                  "pm.test(\"monthlySales is an array\", () => {\r",
                  "    pm.expect(pm.response.json().monthlySales).to.be.an(\"array\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/analytics",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "analytics"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Rendelések",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Response is an array\", () => {\r",
                  "    pm.expect(pm.response.json()).to.be.an(\"array\");\r",
                  "});\r",
                  "pm.test(\"Order has expected fields\", () => {\r",
                  "    const orders = pm.response.json();\r",
                  "    if (orders.length > 0) {\r",
                  "        pm.expect(orders[0]).to.have.property(\"id\");\r",
                  "        pm.expect(orders[0]).to.have.property(\"osszeg\");\r",
                  "        pm.expect(orders[0]).to.have.property(\"statusz\");\r",
                  "        pm.expect(orders[0].id).to.include(\"ORD-\"); // checks the ORD- prefix\r",
                  "    }\r",
                  "});\r",
                  "// Save an order ID (strip the ORD- prefix for the PATCH route)\r",
                  "const orders = pm.response.json();\r",
                  "if (orders.length > 0) {\r",
                  "    const rawId = orders[0].id.replace(\"ORD-\", \"\");\r",
                  "    pm.environment.set(\"rendeles_id\", rawId);\r",
                  "}"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/admin/rendelesek",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "rendelesek"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Rendelés státusz",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Status was updated\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json.statusz).to.equal(\"teljesítve\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"statusz\": \"teljesítve\"\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/rendelesek/{{rendeles_id}}/statusz",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "rendelesek",
                "{{rendeles_id}}",
                "statusz"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Admin poszt hozzáadás",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 201\", () => pm.response.to.have.status(201));\r",
                  "pm.test(\"Blog post created\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"id\");\r",
                  "    pm.environment.set(\"admin_post_id\", json.id);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"cim\": \"Admin Test Post\",\r\n  \"tartalom\": \"Content written by admin.\",\r\n  \"cimke_ids\": [1],\r\n  \"fo_kep_id\": 1\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/blog",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "blog"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Admin poszt módisítás",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Title was updated\", () => {\r",
                  "    pm.expect(pm.response.json().cim).to.equal(\"Updated Admin Post\");\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"cim\": \"Updated Admin Post\",\r\n  \"tartalom\": \"Updated content.\",\r\n  \"cimke_ids\": [1, 2],\r\n  \"fo_kep_id\": 2\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/blog/{{admin_post_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "blog",
                "{{admin_post_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Admin poszt törlés",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.environment.unset(\"admin_post_id\");"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/admin/blog/{{admin_post_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "blog",
                "{{admin_post_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Termékek hozzáadása",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 201\", () => pm.response.to.have.status(201));\r",
                  "pm.test(\"Product created with id\", () => {\r",
                  "    const json = pm.response.json();\r",
                  "    pm.expect(json).to.have.property(\"id\");\r",
                  "    pm.expect(json.nev).to.equal(\"Test Termék\");\r",
                  "    pm.environment.set(\"admin_termek_id\", json.id);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"nev\": \"Test Termék\",\r\n  \"kategoria_id\": 1,\r\n  \"ar\": 2990,\r\n  \"darab\": 50,\r\n  \"leiras\": \"Ez egy teszt termék leírása.\",\r\n  \"fo_kep_id\": null\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/termekek",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "termekek"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Termék módosítása",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Price was updated\", () => {\r",
                  "    pm.expect(pm.response.json().ar).to.equal(3490);\r",
                  "});"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\r\n  \"nev\": \"Updated Termék Név\",\r\n  \"ar\": 3490,\r\n  \"darab\": 30\r\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/admin/termekek/{{admin_termek_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "termekek",
                "{{admin_termek_id}}"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Termék törlése",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test(\"Status is 200\", () => pm.response.to.have.status(200));\r",
                  "pm.test(\"Success message returned\", () => {\r",
                  "    pm.expect(pm.response.json().message).to.equal(\"Termék törölve\");\r",
                  "});\r",
                  "pm.environment.unset(\"admin_termek_id\");"
                ],
                "type": "text/javascript",
                "packages": {},
                "requests": {}
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/admin/termekek/{{admin_termek_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "admin",
                "termekek",
                "{{admin_termek_id}}"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ]
}